{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/rubi/Documents/GitHub/xbt-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rubi/Documents/GitHub/xbt-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\rubi\\\\Documents\\\\GitHub\\\\xbt-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Navigate}from'react-router-dom';// import './css/customProfile.css';\n// import './js/scripts.js';\nimport'./js/datatables-simple-demo.js';import'./css/styles.css';// import { useEffect } from 'react';\n// import { Helmet } from \"react-helmet\";\n// import React, { useEffect, useState } from \"react\";\nimport React,{useEffect,useState,useLayoutEffect}from'react';import axios from'axios';// import { getWithExpiry } from \"../../helper/utils\";\nimport{Link}from'react-router-dom';import DashboardNavbar from'./base/DashboardNavbar';import DashboardLayoutSideNav from'./base/DashboardLayoutSideNav.js';import Cookies from'js-cookie';import MarketList from'./MarketList.js';import{defaultAPI}from'../../api/api.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Market=function Market(_ref){var user=_ref.user,setUser=_ref.setUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),marketDetails=_useState2[0],setMarketDetails=_useState2[1];useEffect(function(){var isMounted=true;function getMarketData(){return _getMarketData.apply(this,arguments);}function _getMarketData(){_getMarketData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(defaultAPI.api.tradeUrl,\"/public/markets/tickers\"));case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;if(isMounted)setMarketDetails(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getMarketData.apply(this,arguments);}getMarketData();return function(){isMounted=false;};},[]);var marketDetailsArr=Object.keys(marketDetails);var markets=marketDetailsArr.map(function(market){return/*#__PURE__*/_jsx(MarketList,{name:[market.toUpperCase()],max_price:marketDetails[market][\"ticker\"][\"high\"],min_amount:marketDetails[market][\"ticker\"][\"low\"],min_price:marketDetails[market][\"ticker\"][\"volume\"]},marketDetails[market][\"at\"]);});if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed profilediv\",children:[/*#__PURE__*/_jsx(DashboardNavbar,{user:user,setUser:setUser}),/*#__PURE__*/_jsxs(\"div\",{id:\"layoutSidenav\",children:[/*#__PURE__*/_jsx(DashboardLayoutSideNav,{}),/*#__PURE__*/_jsx(\"div\",{id:\"layoutSidenav_content\",children:/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-4 profile-list-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-md-12 profile-list-div card\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group card-body\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item list-group-item-dark\",\"aria-current\":\"true\",children:\"All Market Items\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Market\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Price\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"24 Change\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"24 High\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"24 Low\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"24 Volume\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:markets})]})]})})})})})})]})]})});};export default Market;","map":{"version":3,"sources":["C:/Users/rubi/Documents/GitHub/xbt-frontend/src/components/dashboard/Market.js"],"names":["Navigate","React","useEffect","useState","useLayoutEffect","axios","Link","DashboardNavbar","DashboardLayoutSideNav","Cookies","MarketList","defaultAPI","Market","user","setUser","marketDetails","setMarketDetails","isMounted","getMarketData","fetch","api","tradeUrl","res","json","data","marketDetailsArr","Object","keys","markets","map","market","toUpperCase"],"mappings":"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","sourcesContent":["import { Navigate } from 'react-router-dom'\r\n// import './css/customProfile.css';\r\n// import './js/scripts.js';\r\nimport './js/datatables-simple-demo.js'\r\nimport './css/styles.css'\r\n// import { useEffect } from 'react';\r\n// import { Helmet } from \"react-helmet\";\r\n// import React, { useEffect, useState } from \"react\";\r\nimport React, { useEffect, useState, useLayoutEffect } from 'react'\r\nimport axios from 'axios'\r\n// import { getWithExpiry } from \"../../helper/utils\";\r\nimport { Link } from 'react-router-dom'\r\nimport DashboardNavbar from './base/DashboardNavbar'\r\nimport DashboardLayoutSideNav from './base/DashboardLayoutSideNav.js'\r\nimport Cookies from 'js-cookie'\r\nimport MarketList from './MarketList.js'\r\nimport { defaultAPI } from '../../api/api.js'\r\n\r\nconst Market = ({ user, setUser }) => {\r\n    const [marketDetails, setMarketDetails] = useState([])\r\n\r\n    useEffect(() => {\r\n        let isMounted = true\r\n\r\n        async function getMarketData() {\r\n            const res = await fetch(`${defaultAPI.api.tradeUrl}/public/markets/tickers`)// /tickers\r\n            const data = await res.json()\r\n            if (isMounted) setMarketDetails(data)\r\n        }\r\n        getMarketData()\r\n\r\n        return () => {\r\n            isMounted = false\r\n        }\r\n    }, [])\r\n\r\n\r\n    \r\n    const marketDetailsArr = Object.keys(marketDetails);\r\n   \r\n\r\n    const markets = marketDetailsArr.map((market) => {\r\n        return (\r\n            <MarketList\r\n                key={marketDetails[market][\"at\"]}\r\n                name={[market.toUpperCase()]}\r\n                max_price={marketDetails[market][\"ticker\"][\"high\"]}\r\n                min_amount={marketDetails[market][\"ticker\"][\"low\"]}\r\n                min_price={marketDetails[market][\"ticker\"][\"volume\"]}\r\n            />\r\n        )\r\n    })\r\n\r\n\r\n    if (!user) return <Navigate to=\"/login\" />\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"sb-nav-fixed profilediv\">\r\n                <DashboardNavbar user={user} setUser={setUser} />\r\n\r\n                <div id=\"layoutSidenav\">\r\n                    <DashboardLayoutSideNav />\r\n                    <div id=\"layoutSidenav_content\">\r\n                        {/* <h1>{JSON.stringify(marketDetails)}</h1> */}\r\n                        <main>\r\n                            <div className=\"container-fluid px-4\">\r\n                                {/* All market details*/}\r\n\r\n                                <div className=\"row mt-4 profile-list-row\">\r\n                                    <div className=\"col-xl-12 col-md-12 profile-list-div card\">\r\n                                        <ul className=\"list-group card-body\">\r\n                                            <li\r\n                                                className=\"list-group-item list-group-item-dark\"\r\n                                                aria-current=\"true\"\r\n                                            >\r\n                                                All Market Items\r\n                                            </li>\r\n                                            <table className=\"table table-bordered\">\r\n                                                <thead>\r\n                                                    <tr>\r\n                                                        <th scope=\"col\">\r\n                                                            Market\r\n                                                        </th>\r\n                                                        <th scope=\"col\">\r\n                                                            Last Price\r\n                                                        </th>\r\n                                                        <th scope=\"col\">\r\n                                                            24 Change\r\n                                                        </th>\r\n                                                        <th scope=\"col\">\r\n                                                            24 High\r\n                                                        </th>\r\n                                                        <th scope=\"col\">\r\n                                                            24 Low\r\n                                                        </th>\r\n                                                        <th scope=\"col\">\r\n                                                            24 Volume\r\n                                                        </th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>{markets}</tbody>\r\n                                            </table>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </main>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Market\r\n"]},"metadata":{},"sourceType":"module"}