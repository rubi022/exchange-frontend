{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/rubi/Documents/GitHub/xbt-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/rubi/Documents/GitHub/xbt-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\rubi\\\\Documents\\\\GitHub\\\\xbt-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{Navigate}from\"react-router-dom\";// import './css/customProfile.css';\n// import './js/scripts.js';\nimport\"./js/datatables-simple-demo.js\";import\"./css/styles.css\";// import { useEffect } from 'react';\n// import { Helmet } from \"react-helmet\";\n// import React, { useEffect, useState } from \"react\";\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";// import { getWithExpiry } from \"../../helper/utils\";\nimport{Link}from\"react-router-dom\";import DashboardNavbar from\"./base/DashboardNavbar\";import DashboardLayoutSideNav from\"./base/DashboardLayoutSideNav.js\";import{defaultAPI}from\"../../api/api.js\";import BalanceList from\"./BalanceList.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Balance=function Balance(_ref){var user=_ref.user,setUser=_ref.setUser;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),balanceDetails=_useState2[0],setBalanceDetails=_useState2[1];// useEffect(() => {\n//     fetch(`${defaultAPI.api.tradeUrl}/account/balances`, {\n//         method: 'GET',\n//         mode: 'no-cors',\n//         headers: {\n//             'Content-Type': 'application/json',\n//         },\n//     })\n//         .then((response) => response.json())\n//         .then((data) => {\n//             // console.log('Success:', data)\n//         })\n//         .catch((error) => {\n//             // console.error('Error:', error)\n//         })\n// }, []);\nuseEffect(function(){// let isMounted = true\n// async function getBalanceData() {\n//     const res = await fetch(\n//         // `${defaultAPI.api.tradeUrl}/account/balances`\n//         `${defaultAPI.api.tradeUrl}/account/balances`\n//     )\n//     const data = await res.json()\n//     if (isMounted) setBalanceDetails(data)\n// }\n// getBalanceData()\n// return () => {\n//     isMounted = false\n// }\nfunction getBalanceData(){return _getBalanceData.apply(this,arguments);}function _getBalanceData(){_getBalanceData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(defaultAPI.api.tradeUrl,\"/account/balances\"),{method:\"GET\",withCredentials:\"true\",cookie:user,headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",\"session\":\"_barong_session\"}});case 2:result=_context.sent;_context.next=5;return result.json();case 5:result=_context.sent;console.log(result);case 7:case\"end\":return _context.stop();}}},_callee);}));return _getBalanceData.apply(this,arguments);}getBalanceData();console.log(\"1\");},[]);console.log(balanceDetails);var balances=balanceDetails.map(function(balance){return/*#__PURE__*/_jsx(BalanceList// key={balance.id}\n// currency={balance.currency}\n// balance={balance.balance}\n// locked={balance.locked}\n,{currencyId:balance.id,currencyName:balance.name,currencyAvailable:balance.price,locked:balance.deposit_fee,icon_url:balance.icon_url// min_price={balance.min_price}\n});});if(!user)return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed profilediv\",children:[/*#__PURE__*/_jsx(DashboardNavbar,{user:user,setUser:setUser}),/*#__PURE__*/_jsxs(\"div\",{id:\"layoutSidenav\",children:[/*#__PURE__*/_jsx(DashboardLayoutSideNav,{}),/*#__PURE__*/_jsx(\"div\",{id:\"layoutSidenav_content\",children:/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid px-4 balance-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row balance-switch-search \",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-md-auto\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-check form-switch \",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-check-input\",type:\"checkbox\",id:\"flexSwitchCheckDefault\"}),/*#__PURE__*/_jsx(\"label\",{class:\"form-check-label\",for:\"flexSwitchCheckDefault\",children:\"Hide empty wallets\"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col col-lg-2\",children:/*#__PURE__*/_jsx(\"form\",{className:\"d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",placeholder:\"Search for...\",\"aria-label\":\"Search for...\",\"aria-describedby\":\"btnNavbarSearch\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",id:\"btnNavbarSearch\",type:\"button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"})})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-4 profile-list-row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12 col-md-12 profile-list-div card\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group card-body\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item list-group-item-dark\",\"aria-current\":\"true\",children:\"All Balance Items\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"CURRENCY\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"AVAILABLE\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"LOCKED\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"ACTION\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:balances})]})]})})})]})})})]})]})});};export default Balance;","map":{"version":3,"sources":["C:/Users/rubi/Documents/GitHub/xbt-frontend/src/components/dashboard/Balance.js"],"names":["Navigate","React","useState","useEffect","axios","Link","DashboardNavbar","DashboardLayoutSideNav","defaultAPI","BalanceList","Balance","user","setUser","balanceDetails","setBalanceDetails","getBalanceData","fetch","api","tradeUrl","method","withCredentials","cookie","headers","Accept","result","json","console","log","balances","map","balance","id","name","price","deposit_fee","icon_url"],"mappings":"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","sourcesContent":["import { Navigate } from \"react-router-dom\";\r\n// import './css/customProfile.css';\r\n// import './js/scripts.js';\r\nimport \"./js/datatables-simple-demo.js\";\r\nimport \"./css/styles.css\";\r\n// import { useEffect } from 'react';\r\n// import { Helmet } from \"react-helmet\";\r\n// import React, { useEffect, useState } from \"react\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n// import { getWithExpiry } from \"../../helper/utils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DashboardNavbar from \"./base/DashboardNavbar\";\r\nimport DashboardLayoutSideNav from \"./base/DashboardLayoutSideNav.js\";\r\nimport { defaultAPI } from \"../../api/api.js\";\r\nimport BalanceList from \"./BalanceList.js\";\r\n\r\nconst Balance = ({ user, setUser }) => {\r\n  const [balanceDetails, setBalanceDetails] = useState([]);\r\n\r\n  // useEffect(() => {\r\n  //     fetch(`${defaultAPI.api.tradeUrl}/account/balances`, {\r\n  //         method: 'GET',\r\n  //         mode: 'no-cors',\r\n  //         headers: {\r\n  //             'Content-Type': 'application/json',\r\n  //         },\r\n  //     })\r\n  //         .then((response) => response.json())\r\n  //         .then((data) => {\r\n  //             // console.log('Success:', data)\r\n  //         })\r\n  //         .catch((error) => {\r\n  //             // console.error('Error:', error)\r\n  //         })\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    // let isMounted = true\r\n\r\n    // async function getBalanceData() {\r\n    //     const res = await fetch(\r\n    //         // `${defaultAPI.api.tradeUrl}/account/balances`\r\n    //         `${defaultAPI.api.tradeUrl}/account/balances`\r\n    //     )\r\n    //     const data = await res.json()\r\n    //     if (isMounted) setBalanceDetails(data)\r\n    // }\r\n    // getBalanceData()\r\n\r\n    // return () => {\r\n    //     isMounted = false\r\n    // }\r\n\r\n    async function getBalanceData() {\r\n      let result = await fetch(`${defaultAPI.api.tradeUrl}/account/balances`, {\r\n        method: \"GET\",\r\n        withCredentials: \"true\",\r\n        cookie: user,\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n          \"session\": \"_barong_session\"\r\n        },\r\n      });\r\n      result = await result.json();\r\n      console.log(result);\r\n    }\r\n\r\n    getBalanceData();\r\n    console.log(\"1\");\r\n  }, []);\r\n\r\n  console.log(balanceDetails);\r\n\r\n  const balances = balanceDetails.map((balance) => {\r\n    return (\r\n      <BalanceList\r\n        // key={balance.id}\r\n        // currency={balance.currency}\r\n        // balance={balance.balance}\r\n        // locked={balance.locked}\r\n        currencyId={balance.id}\r\n        currencyName={balance.name}\r\n        currencyAvailable={balance.price}\r\n        locked={balance.deposit_fee}\r\n        icon_url={balance.icon_url}\r\n        // min_price={balance.min_price}\r\n      />\r\n    );\r\n  });\r\n\r\n  if (!user) return <Navigate to=\"/login\" />;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"sb-nav-fixed profilediv\">\r\n        <DashboardNavbar user={user} setUser={setUser} />\r\n\r\n        <div id=\"layoutSidenav\">\r\n          <DashboardLayoutSideNav />\r\n          <div id=\"layoutSidenav_content\">\r\n            {/* <h1>{JSON.stringify(marketDetails)}</h1> */}\r\n            <main>\r\n              <div className=\"container-fluid px-4 balance-container\">\r\n                <div className=\"row balance-switch-search \">\r\n                  <div class=\"col\"></div>\r\n                  <div class=\"col-md-auto\">\r\n                    <div class=\"form-check form-switch \">\r\n                      <input\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"flexSwitchCheckDefault\"\r\n                      />\r\n                      <label\r\n                        class=\"form-check-label\"\r\n                        for=\"flexSwitchCheckDefault\"\r\n                      >\r\n                        Hide empty wallets\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col col-lg-2\">\r\n                    <form className=\"d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0\">\r\n                      <div className=\"input-group\">\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          placeholder=\"Search for...\"\r\n                          aria-label=\"Search for...\"\r\n                          aria-describedby=\"btnNavbarSearch\"\r\n                        />\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          id=\"btnNavbarSearch\"\r\n                          type=\"button\"\r\n                        >\r\n                          <i className=\"fas fa-search\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                  {/* <div className=\"col-md-6\">   </div> */}\r\n                  {/* <div className=\"col-md-6\">\r\n                                       </div> */}\r\n                </div>\r\n\r\n                {/* All market details*/}\r\n\r\n                <div className=\"row mt-4 profile-list-row\">\r\n                  <div className=\"col-xl-12 col-md-12 profile-list-div card\">\r\n                    <ul className=\"list-group card-body\">\r\n                      <li\r\n                        className=\"list-group-item list-group-item-dark\"\r\n                        aria-current=\"true\"\r\n                      >\r\n                        All Balance Items\r\n                      </li>\r\n                      <table className=\"table table-bordered\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th scope=\"col\">CURRENCY</th>\r\n                            {/* <th scope=\"col\">\r\n                                                            NAME\r\n                                                        </th> */}\r\n\r\n                            <th scope=\"col\">NAME</th>\r\n                            <th scope=\"col\">AVAILABLE</th>\r\n                            <th scope=\"col\">LOCKED</th>\r\n                            <th scope=\"col\">ACTION</th>\r\n                            {/* <th scope=\"col\">\r\n                                                            24 Volume\r\n                                                        </th> */}\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {balances}\r\n                          {/* <tr>\r\n                                                        <td>currency</td>\r\n\r\n                                                        <td>balance</td>\r\n                                                        <td>locked</td>\r\n                                                        <td>\r\n                                                            <button className=\"btn btn-primary \">\r\n                                                                Deposit\r\n                                                            </button>\r\n                                                            <button className=\"btn btn-primary btn-withdrw\">\r\n                                                                Withdraw\r\n                                                            </button>\r\n                                                        </td>\r\n                                                    </tr> */}\r\n                        </tbody>\r\n                      </table>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </main>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n"]},"metadata":{},"sourceType":"module"}